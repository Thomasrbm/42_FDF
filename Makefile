# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: throbert <throbert@student.42.fr>          +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+           #
#    Created: 2025/03/07 19:09:36 by throbert          #+#    #+#              #
#    Updated: 2025/03/23 16:43:02 by throbert         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

NAME = fdf
CC = gcc
CFLAGS = -Wall -Wextra -Werror -g3 -O3 -march=native -flto -funroll-loops -ftree-vectorize -fomit-frame-pointer

# ================================
# === LIBFT & MINILIBX CONFIG ===
# ================================
LIBFT_DIR = libft
LIBFT = $(LIBFT_DIR)/libft.a
LIBFT_REPO = https://github.com/Thomasrbm/42_Turbo-Lib.git

MLX_DIR = minilibx-linux
MLX = $(MLX_DIR)/libmlx_Linux.a
MLX_REPO = https://github.com/42Paris/minilibx-linux.git

# ========================
# === FILE STRUCTURE ====
# ========================
SRC_DIR = fdf_dir
GNL_DIR = fdf_dir/gnl
OBJ_DIR = objs

SRCS = $(wildcard $(SRC_DIR)/*.c) \
	   $(wildcard $(SRC_DIR)/draw/*.c) \
	   $(wildcard $(SRC_DIR)/events/*.c) \
	   $(wildcard $(SRC_DIR)/parse/*.c) \
	   $(wildcard $(GNL_DIR)/*.c)

OBJS = $(SRCS:%.c=$(OBJ_DIR)/%.o)

INCLUDES = -I $(LIBFT_DIR) -I $(MLX_DIR)
FULL_CFLAGS = $(CFLAGS) $(INCLUDES)

# ========================
# === COLORS ============
# ========================
GREEN = \033[0;32m
YELLOW = \033[0;33m
RED = \033[0;31m
BLUE = \033[0;34m
RESET = \033[0m
VIOLET = \033[0;35m
JAUNE = \033[33m

# =====================
# === ALL TARGET ====
# =====================
all: $(LIBFT) $(MLX) $(NAME)

# ==========================
# === LIBFT AUTOMATIQUE ===
# ==========================
$(LIBFT):
	@echo "$(BLUE)Téléchargement de la libft depuis $(LIBFT_REPO)...$(RESET)"
	@if [ ! -d "$(LIBFT_DIR)" ]; then \
		git clone $(LIBFT_REPO) $(LIBFT_DIR) || true; \
	else \
		echo "$(BLUE)Libft déjà présente, mise à jour...$(RESET)"; \
		cd $(LIBFT_DIR) && git pull; \
	fi
	@echo "$(BLUE)Compilation de la libft...$(RESET)"
	@make -C $(LIBFT_DIR) > /dev/null
	@echo "$(GREEN)Libft compilée avec succès !$(RESET)"

# ==============================
# === MINILIBX AUTOMATIQUE ====
# ==============================
$(MLX):
	@if [ ! -f "$(MLX)" ]; then \
		echo "$(BLUE)Téléchargement de la minilibx depuis $(MLX_REPO)...$(RESET)"; \
		if [ ! -d "$(MLX_DIR)" ]; then \
			git clone $(MLX_REPO) $(MLX_DIR); \
		fi; \
		echo "$(BLUE)Compilation de la minilibx...$(RESET)"; \
		make -C $(MLX_DIR) > /dev/null; \
		mkdir -p $(OBJ_DIR); \
		cp $(MLX) $(OBJ_DIR)/libmlx.a; \
		echo "$(GREEN)Minilibx compilée avec succès !$(RESET)"; \
	else \
		echo "$(BLUE)Minilibx déjà compilée, pas de mise à jour nécessaire.$(RESET)"; \
	fi


# ==========================
# === FICHIERS OBJETS ====
# ==========================
$(OBJ_DIR)/%.o: %.c
	@mkdir -p $(dir $@)
	@echo "$(YELLOW)Compilation de $<...$(RESET)"
	@$(CC) $(FULL_CFLAGS) -c $< -o $@

# =====================
# === COMPILATION ====
# =====================
$(NAME): $(OBJS) $(LIBFT) $(MLX)
	@echo "$(YELLOW)Création de l'exécutable $(NAME)...$(RESET)"
	@$(CC) $(OBJS) -o $(NAME) -L$(LIBFT_DIR) -lft -L$(OBJ_DIR) -lmlx -lX11 -lXext -lm
	@echo "$(VIOLET)-::-*:::+:::==:-+##+=*-:=+::-#::-#=--++-=#@#-:+#::-%---#=:-##=--+=::-%--*##--@#%-::=%*--#+::##-:=##=#*+@**@==#*::+#-::**--=*@%--+*---=#-+#@*---*-::*+::=*-:-#=-*+*-:-#-::*-::++--=#=##%=::++===+---*-::++###*:.:*-::+-::+"
	@echo "$(VIOLET)-..-+...+:..=+..-*=##%-:=+::-#:.:#=::++:::###*+#::-#-::*=::+###=*+::-%-::=@#=-=@#=-=#=#+#*::##-:=##=#*+@**@==#*::*#-::+*==#@#-:-+*-::=@##==+::-*-::++::-*-::#*-:=+::-#:::*-:.=+::=###-+-..+=..-+:..*-:-###-=+..:*:..+:..="
	@echo "$(VIOLET)=::-*::-*-::+*:-=*--=#%#+*--=#-:-#+--**--=#=+#@%--=@=--#+-=*#=+#@*--=%=--+@+##=#+@#+#=-+#+:-##--=#*=#*+@**@=+#*--*#=--+@*%#+%===*#=+*#@+==**--+%=--**--=#===#+--+*--=#-::#=::+*=#%@=--*-:-+=::=+::-#*##*+--++-:-*-:-*=::+"
	@echo "$(VIOLET)-..-+..:+:..=+..-*:.:+=##%+:=%:::#=::+*:::*=::=@%*=%=::*+::=*::-*##==@-::=%--=#%--+@%+--##+-*#--+#*=#*+@**@=+#*--*%=-=*@%--+%-::+#+##=#-:-+*-:-#=::*+::-#-::#=::++::-#:::*=::*%#*=#:::+:.:+=..-+:=#@#-:+=..=+..:*:..+:..+"
	@echo "$(VIOLET)=..-*..:+-..=*:.-*:.:*::=+##+%-::#+::+#:::#=::=#=*#@=--#+--+*-:-#+=#%@=::+%-::=@%+-=%@#+#*=###--+#+=#*+@**@=+#*--*@++#@@--+*%-:-*@#=-=*-:-#*-:=#=::**-=+#-::*=::+*::-%-::*=+#@%-:-#:.:+-::+=::=@##+*-::++..=+:.:*:.:*-..+"
	@echo "$(VIOLET)-:.-+..:+:..=*::-*:::*::-*-+#@*=-#=::+#:::#=::=*::=%##+#+--+*-:-#+::=@#+-=%=::=#=*#+%=+@##==#%--+#+=#*+@**@++#*=+#@#@++@#*-+@=+###=::=#-:-**---#=::**::=*-::#=::+*::-#-:-#%#==+::-#:::*-::++-#%@=::*-::+=:.-+:.:*:.:+-..+"
	@echo "$(VIOLET)=..-+:.:*-.:=*:.-*::-*::-*-:-%##*%+::+#-:-*=::=*-:-#=+%@*--+#-:-#+::=@=*#*#=::=#---*@=-=%@#+###=+#+=##+@**@++#####@%==#@=--+@##-=#-:-+#-:-**-:=#=::**::=#-:-#=::+*::-%=*#@+-:=+::-#-::*-::+#%#=*:::*-..*=:.=*:.:*:.:*-..+"
	@echo "$(VIOLET)+--=*===*===+#==+#===*==+#==+%=+#@##*#%+=+#*++*#==+#+==%####%+++##++*@+==*@#+=+#+*==%##=###@##+###*+##*@*#@+#####@@+#@+@++#@@+==*#*++*%+=+##++*%*++##++*%+++#*++##**#@%#+#+==**==+%==+%*##@#=-=#+==*===**==+*==+#===#+==*"
	@echo "$(VIOLET)=..-*:.:+-::+*::=*::-*::-*-:-%-:-%*####-:-#+::=*-:-%=--#+=#%%--=**--=@=--+%=#%+#---#%++##*=+@@*+#%#+##*@*#@#####%@@@==#@##++%=--+#=--+#-:-*#--=#+--**-:=%-:-*=::+#=#@@=::*=::++::=#-::%##+++::-*:::*-.:+=:.-*:.:*:.:+-..+"
	@echo "$(VIOLET)=::=*::-*-:-+*::+*-:-*-:=#--=%--=%++#%@+-=%+--+#--=%=--#+==*%%##%#==+@===*@=--*@#*==%=####++##@###%*##*@*#@**#@@%#@+###@+==+@=--*%+--+%=-=%#=-=#+--##--+%=-=#+--*@@#+%=--#=--+*--=%=*#@+--*+::=*-::*-::++::=*:::#-::*=::+"
	@echo "$(VIOLET)=:.-*:::+-::=*::=#::-*-:-#::=%-:-%=--*%##+@+--+#--=%=--#*--*#==#%*+##@+=-+%=--=%==*%@*-=#%#+%#+*@%##%##@*#@*#@@*+*@#%#*@=--+@=--+%=--*%=--##=--#+--##--=#=--%++#@%=-=%=::#=::+*-:=@%#=#-::++::=+:::*-::++::=*:::#:.:+-..+"
	@echo "$(VIOLET)=::=*::-*-::++::=#::-*--=#--=%---%+-=*#+*%@#==*#=-=@+-=%*==*#==+%#***@++*%@*+++@+==+@*####++@%#+#@@##%@@%#@%@%#+#%%*++#@+=+*@+==*%+=+#@++*##+=+%+==##==+%+=+@%%**#==+%=--#+--+#=#@@+=-#=--*+::=*:::#-::*+::=*:::#-::*=:.*"
	@echo "$(VIOLET)=::-*:::*-::+*::=%::=*-:=*-:=%-:-%+--**=-=%#%#*%=-=@+-=%*-=*%=-+%*=-*@+==*@=-=+%---+@==+#%*#@%###@%%@@@@%#@@##@#%%@+==#@===*@=-=*%+-=*@=-=#%=-=%*-=#%--+%+*@@*=-+*--=%=:-#=--*@%*+#-::#-::*+::=*:::#-::++::=*:::#-::*-::+"
	@echo "$(VIOLET)=::=*::-*-::+#::=%-:=#--+#=-+@===@*=+##==+%+*#@@**#@#**%%**#@**#@####@#%%#@#***@#**#@###@@##@@%%@@@@@@@@@@@@@@@#%@@***#@***#@***#@#***@###@%###%%##%@**#@@%*@#+=#%+=+@+==%*+#@%=-+%-:-#=--*+::=*-::#-::*+::=#:::#-::*=::+"
	@echo "$(VIOLET)+==+#++*%**+%@##%@###@##%@###@###@####@###@####@@%#@###@###%@###@@%%%@%#%@@%%##@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@@@%%%@%%%%@%###@###%@###@%##%@##@@%##@%##%@###@%##@@@##@###@###@%###@###@###@++*%*++*#+++#==+#+==#"
	@echo "$(VIOLET)+::=*::-*-::+#::=%--=#=-=#=-=@=-=@+-=#@=-=%*=-*%+#@@*++@#++#%+=*%#==*@+==*@#+=*@+=+*@+=+##++#%%%%@@@@@%@@@@@@%####@*++#@+++*@+++#@*=+#@+=+#%==+@*==#@@#*@+==%*==#%===@*#%@*==*#--=%=--#=--*+-:=#-::%-::*+::=*:::*-::*=::+"
	@echo "$(VIOLET)*==+#===#+==*%++*%+++#+++%++*@++*%*++#%+++%*++#%*+#@@#*@#**%@**#%#**#@***%@*##*@*++*@***##++##%%#@@@#@@@@@#%@%%#%#@+==#@*+*#@*+*#%***#@*+*%%***@#*#@%**#@***@***#%++*@@#*%*++##++*%+++%+++#*++*%+++%+==**==+#===#===#+==*"
	@echo "$(VIOLET)=::=*::-*-::+#::=%-:-*-:=%--=%---#+--*#--=%+--+%=-+@*#@@#==*#=-=#*--+@=-=*%=-+%@=-=*%===##*#%#*#@@#@@@###%@@#@@%**@##=*@===*@=-=*%+--*%=-=##=-+%#####--+%=-=#+--*#=#%@+--#=--**-:=%-:-#=::*+::=#-::#-::*+::=*:::#-::#=::+"
	@echo "$(VIOLET)+::+#-:-#=:-+#-:=@-:-#-:=@--=%=--%+--*#=-=%+--*%=-+@+=+@%%*#%==+##==+@+-=*@=-=+@+==+%=+#%#*+#%@@#%@@#**#*+#@@##%@@@+=#%@+==*%=--*@+-=*%===#%++#@#==##==+%+==%+==#@%#+%=--#+--**--+@=--#=--*+-:=#-:-%=::*+::=#-:-#-::#=::*"
	@echo "$(VIOLET)=::=*::-*=::+*--=@-:-#-:-%-:=%=--%+--*#--=#+=-*%--+%+-=%**%@%+==%#==+@=-=*@+==*%+==+%#####++@@*#@@%@%*+#++#@%@@#*@@#+=#@##**@##**%+==*%=-=%%#@#%*--#*--+%=-=%++#@@=-=%=--#=-:**--=%-:-#=::++-:=*-::#=::*+::=#-:-#-::#=::+"
	@echo "$(VIOLET)+::=*::-#=::+#-:=@-:-#-:=%--=%=--%+--+#=--%+--+%=-+@+-=%*==#@%#+%#=-+@+--*@+==+%==*#@*+#%#@@###@%+#=*@###@#=**#@%#@@@##@+=*%@+=+%%+-=*%==+%@#==%+--##--+@=-=@%@**#--=@=--#=--**--=%-:-#=-:*+-:=%-:-#=::*+::=#-::#-::#=::*"
	@echo "$(VIOLET)+==+#===#+==*#==+%+=+%+=+%+++@+=+%*=+#%+=+%*++*%+*#@*++%#+*#%#%%@%**#@*++#@*++*@*##*@##+#@#*#@@########@########@@@**@@@+++#@*+*#@#++*@*#@%%*+*@*++%%++*@+##@#++##++*@*++%*++##++*%+++%+++##++*%+=+%+++#*==*%+=+%==+%*==#"
	@echo "$(VIOLET)=::+#::-#=::+#-:=%---#--=%=-=%=--#*--+%=--#*--+#--+@+==%#==*#==*@@#+*@+==*@===#@#==*@+#@%%#@@%#@#=--=%%##@+===*@##@@#*#@@*+#@##+*%+=##@@#+*#===%+--##==*@%#+%+--*#--=%=--%+--**--=%=--%=--**-:=%-::%=::*+::=#-:-#-::#=::*"
	@echo "$(VIOLET)+==*#==+%+==#%==+%+=+%+=+%+=+@+++%#++#@+++@#++#%++*@*+*@#**%%++*@%#%%@+++#@++*#@+++*@@%*#%@@###*#%+#@+-#-=%#*##+=##@@@#@*@%*@++##%*+#@@*++%%++*%*++#%*#@@*+*@*++#%++*@+++%*++##++*@+++%*++##==*@+++%+=+%*==*%==+%+==%+==#"
	@echo "$(VIOLET)=::+#-:-#=--+#-:=%--=#--=@=-=%=--%*--+@=-=#*--*%=-+@+==%%#*#%==+##=+#@#+=*@+==*@++#@@**#@@@@%#*#*#@#-:-#::-#@%**+*#%@@@@*+#@@+++#@#@#*%===#%==+%+-=#@%*+%=-=#+--*#--=@=--%=--**--=%=--#=--**::=%-:-#=::*+::=#-:-#-::#=::*"
	@echo "$(VIOLET)+--+#--=#=--*#==+%=-=#=-+@==+%===%*==*@===%*==*%+=*@*++%**#%@+++%#=+#@#@#*@+++*@#@#*@##@%%##@#=*@#=+#=:#--#*=+%#=*@###%@@#*#@@#+#@%#++%===%%+=+@*+#@@++*@+=+%*==#%==+@+==%+==##==+@===%+==#*-=+%=-=%=--#*--+#--=%=--%+--#"
	@echo "$(VIOLET)+:-+#-:-#=--+#--=%--=*--=%=-=@---%+--+%=-=#*--*#=-+@+==%*==#@%#*%#==*@++#@@#++#@#++*@@@@%#=-=#@%-:::-+####+-::-#@@+==##@@@@#@*#@%@*++#%+==#%==+@%%*##==+%===#+--*#--=%=--%+--**--+%---%=--**--=#-:-%=--*+::=#-:-#-:-#=::*"
	@echo "$(VIOLET)+:-+#-:-#=--*#--+%--=#--=%=-=@=--%+--+%--=#*--+%=-+@+-=#*==*#+#%@%+=*@===#@@#%%@++*#@@%%#*==##+*#-:::--#*-:::-+#+%%+=%#@#%@@@##*#@#++*%==+#%++#@#=-##--+@=-=%+--*#--=%=--%+--*#--+@=--%=--**--+#---%=::*+::+#-:-%-:-#+::*"
	@echo "$(VIOLET)+-=+#=-=#=-=*#==+%===#==+@==+%===%*==*@==+%*==*%+=+@*=+%*++##+=*@%%##@+++#@#%%%@*#@@@#+****%*====%*===+*==--=#+===+%#%+%=##@@@#*#@%%*+@*++%@%@*%*==#%==*@+=+%*==*%==+@===%+==*#==+@===%+==**=-+%=-=%=--**--+#--=#=--#+--#"
	@echo "$(VIOLET)+:-+#---#=:-*#--+@--=#=-=@=-=%=-=%*--+@=-=%*--+%=-+@+==#*==*#==+%#+#@@#++%@#++*@%@@%#*###@*@@@@@@@#@@@@@@@*%+=@@@@@@@@#%**###@@%#@++#%@++*@@*==%*==##=-+@=-=#+--*%=-=@=--#+--*#--=@=--%=--**--=%---#=--*+--+#-:-#-:-#=::#"
	@echo "$(VIOLET)+==*#===#+=+##==*%+++%+=*@++*%+++@*++#@+++@#++#@++*@*+*%#++%%++*%#+*#@%%%*@+++#@@@@#==+#+=+@@@@@@@@@@@@@@@@@#=@%@@@@@#+##===*#@@@@*++*@%%%%@*+*@*++%%++*@+++%*++#%++*@+++%*++##++*@+=+@+++##==*@==+%+=+#*==*%==+%===%+==#"
	@echo "$(VIOLET)+--+#--=#=--*#--+%--=#=-+%=-=%=-=#*-=+@=-=%*--+%=-+@+==%*==*%==+%#==*@*#%@@*##@@@#+#%#=--=+@@#====+@@+=*==#@@*@@@====----#*=+###@@@#**@%#+#%+=+%*==#%==+@+-=%+=-*#=-=@=--%+--*#--=@=--%+--**--+%---#=--**--+#---#=--#=-:*"
	@echo "$(VIOLET)*==*%==+%+=+#%==*@+=+%++*@+++%+++%#++#@+++%#==*%++*@*++%#++#%++*%#++#@++*%@@@@@@######+--=+@%@@@@%+@@==+===@#@@#@@@@@=--:-+@%##%@@@@@@@*++#%*+*@#++%%++*@+++%*+=#%++*@+=+%+++#%++*@+++@*++#*==*%==+%+==%*==*%==+%===%+==#"
	@echo "$(VIOLET)+--+#--=#=--*#--+%=-+#=-+%===%===%*==+%=-=%*==+%==+@+==%#==*#==+%*==*@+++%@@@@@@###*#**#**+@@@#*+=+@@=++==+@@%@@@#**+==+*#######%@@@@@@*==#%+=+%*==#%==+@+==%*==*%=-=@+-=%+=-##=-+@+==%+=-**--+%=--#=--#+--+#---#=--#=--*"
	@echo "$(VIOLET)+-=+#=-+#+==*#==+@==+%+=+%+=+%+=+%*==*%+==%*==*%+=+@*=+%*=+*%+=+@*==#@*#%@@@#*#%@%*=--:=*==@@@====+@@#%@%@@@@=@%%==---=-::-#*=#@@*#%#@@%*+#%+=+%*==#%+=*@*=+%*==#%==+@+==%+==##==+@+==%+==#*==*%===%+==%*=-*#=-=%=-=%+--#"
	@echo "$(VIOLET)+==+#=-+#+-=*%==+@==+%+=+@+=+@+=+%*==*%+=+%*==*%+=+@*=+%#=+*%+=*@#++#@%@@@#=**%###@#*+#*:-+@@%=--=+@@@@@@@@===@@@=---::**-=##@@*==##*#%@@#%@+++%*++%%++*@*++%*==#%==+@+==%+==##+=+@+==%+==#*==*%+==%+==%*=-*%=-=%+-=%+=-#"
	@echo "$(VIOLET)#+*#%++*%#+*#@+**@***@*+#@#*#@#**@%**#@***@%**#@**#@#*#@%**#@#*#@%*#@@@#%#@###=+#=*%@#+=-:-++=----==%@+%+%%=-====--=:::-+##@@%@*--#*-+#@@@@@#*#@#**@@**#@#**@#**%@*+#@#**@#**%%**#@#**@**+#%*+#@*++@*++%#*+#@*++@*++@*++%"
	@echo "$(VIOLET)@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#*@+#%@#=*#-*%#@@#+-::-#=::-=#=--#--=#=----*-::--=*@@#=#=#@+#++@@##@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
	@echo "$(VIOLET)@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@##@#@%*==#@####=-=#@##+==-+#=#+::--#----*#=**--==+*%@#==##=-=###@*===*#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
	@echo "$(VIOLET)@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@%%#%@@@%####%%@@##++*#%#+==++#===++#%#++++##@@%%###%@#%#@@@@%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
	@echo "$(VIOLET)@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#+*@#@#=--+#@#@#=----=#@@##%*+-#=:::#:::=#-**%#*#@@@+::::=##+#@###=--+*%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"
	@echo "$(VIOLET)%%@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@%%@@#%%%@@@@@@@@%@@@@@@%##*#@%+=#=++#@#*#*@%+---##*#@@#++-:-#--#:-#=::+=*#@@#++%#=-==##@#+##==++#@@###*#@@@@@@@%%@@%%%%%%@%#%%@%%@%%%%%%%%%%@%%%%%%%%@%%@@@@@@@@@@%@@@@%%@@@@@@@@"
	@echo "$(VIOLET)#%%###%%###%##%%%%%%##%%@@%####%@%%@@#%@@%%@@%%@%%%@@%%@@@@@@@##**#%*#%+#=+%@*-*#-=#@#+##+*#*#@##=-::*##**:::-+#@@###=--#@#=+#@*--##*=#@@*=*@*###@@@@@@@%%@@%%%@@##%%%#%%@%#%%%#%%########%%###%#####%%%%%###%%%%%%##%%#%"
	@echo "$(VIOLET)##**##%#######%###%######%######%%#%%@%##%%#%%@%%#%@%%%@@@@@##@%#%*=-=*%##@#=--*#---*%@#*#=---#@@#+=--*##---=#%@##=-=#*=-+%@@#+--=#*#%@#=====##*@##@@@@@@%%@@%%%@@%%%%%%#*#%%##############****####*#%#**################"
	@echo "$(VIOLET)##%#########%#%#####**#%%###########%%##*#@%##@@##@@%%@@@@@@%@%@@%#####%@@##%#%@%####%@%%#####@@#@%##+-#-+#*#@%#@#####@%###%@@######@@@%######@@@@@@@@@@%%%@@@%%@%*#@@##%%###%####@%###@%###%####*+*#%#**##########**##**"
	@echo "$(VIOLET)#*###**###########**#@@%#*%@%#*#@%##@@%#*#@##*#%%####%@@@@#=+#@###*-==#@##@#=-=##==*@##@##=-*@*==+#@#*+#=+#@@#=+#%#=+###==#@##@#==##%%#@#=-==*#@%@*=*#@@@@#%@%#%@@##%@%##%%###%####%%#**%@%*####*###***#***********##****"
	@echo "$(VIOLET)#%######**####%########%##%@%#*#@@#**#@@%**%@@###@@%@@@%**#@@#=*+*%##@%+==*@#++#%*@@+=#=#@#@#==-+#+#%@###@@##%=+#=#@####*#%=+=+#@##@+===#@###@+-++@%*##%@@%%@@##%@%#%%@##%@%*##%@**#%%#*##%%#*#%#***#%#*###****##*****#%#"
	@echo "$(VIOLET)###**###*####**#%%***#%%#***@@%#*#@@%#*%@@###%@@##%@@@#**#@*#%+*+=#@@%*===-+@@###@%+==#=+@@@#+*##=-=*#@@@#*==+###=+#@#*#@@==+==+#@@*=-=-=*%@%=--+=+#@#**#@@@##%@@#*#%@%###%%#*##@%**#%%#*##@%%***##********###***###*+*##"
	@echo "$(VIOLET)##*%@%%#*###@#**%@#*++#@@#***%@#**#@%#***%@%###%%@@@###@@#===+####@#+#@#**##+*@@#+=####%@*++#@%%****#######+++*#@###*#%@*=###*#@@##@#+**#@##%@###+===*@@##@@@@@##*#@@##%%@@%#*#%@#**#%@%#**#%#***#%##****##**#%#*++*##***"
	@echo "$(VIOLET)%#######***@@%****@@*++*#@#*++%@%***#@%****@@**#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@####@@#****%@@***#%###%###**##%#**#%#####%#*++*##%%%#*###*+"
	@echo "$(VIOLET)*%##*+*%#*+*%@@#+==+@@#+++#@%+++*@@*+++*@@*****@@%@@%%@@@@@%%%@@@@@@@@@@@@%##@@@@#%%@@@@%#%@@@@%%%##@@###%@%####@@@%###@@@%##%%@@@##%#@@@@%%%%@@@@%%%#@@@%%%%#@@%*++*#@@%++++*@@%******#@@#****#***##*#%#***#%%%#*+**%@%*"
	@echo "$(VIOLET)*++*@%+*@%*==++@@#++++#@@*+++%@%*+++#@%**+++%@%***@#@@@@@###@@@#@@@#@@@@%@%#@@##%%##@@%%###@@@%%@#%@@@##%@@@####%@@@###@%@@#*@%%%@@@%%%#%@@%##%@%@@%+#%@@@@#*++**%@%*+++*%@@+++++*#%@@#++++#@%**#%#***##%%%**###****%@@@#"
	@echo "$(VIOLET)@@#+++****@@@#*+++@@@#***#@@%#***@@%*++**%@%**###%@@@@@@@@@@@@%##@@@@%##%@@@@%@##%@@@%%@%@@@@@@%@@@@@@%%#@@@@@@@@@@@###@@@@@@@@@@@@@@@@%@@@@@%@@%@@@@#%@@@@@@@#####%@@#***#%@@@##*+++++#@@#%#*#####+*#%@%%##**##*###%%%#%"
	@echo "$(VIOLET)#+===+%@#+===+@@#+===+@@#*===+@@#*+===*@@##===+#@%##%%%%@@#######@@##%###%@@#####%@@#####%%@@#####%@@++*=#@@#++*+*%@%####+#@@==*#%##@#==+##%@@*+##%%%@@##%#=**@%+===++*@@*===++#@@*====++*#@@+=++***#@*+=+****#%#++++**++"
	@echo "$(VIOLET)==*@@++===+@%+====#@%+==-=+@@*+===++@@*+==++*@@*+=+#%@@@####%%%@@%##+#%%@@##**###@@###++##@@##**###@@**#+#@@%===+##@@+###==*@@+###*=+@@*#####*@@######@@@#====+#@@*=====+*@@++===+*%@%++++=++#@@*++++++*#%@#+*++++++**###"
	@echo "$(VIOLET)@+===+++*#+===*@%+=====#@@++==++*@@+++===*@@*+===-+@@@%###*#%@@%######%@@%*=+*#%@@##++++*%@###*==#%@@*+#+#@@@+==*%#*@@%#+==+%@@%#+--+#@@@%#*-##%@@%#####%@@#**++++*@@++====**@@+++===+#@@++==++++@@%*+++++++++*#*++++++++"
	@echo "$(VIOLET)***+==++++*@@+=====+@@*======+@@*=====+*@@*=+++++*@@@%%%#**%@%@@@%#**@@@%%%*+**@@%%%#+++*@%*%##*+*@@***%**%@@+**+####@%%**+*#%@%+++++*#%@@*++#%%#@@@@%###*+@%+++++=++@@+++++==+*@%+++====*@@*++++++++@@*++=+*#*###*****++"
	@echo "$(VIOLET)---=*%*@@+==----*@@*=-----+@@#====--=%@%+===-==#@#*######%@@#*=*####@@*=+####*@@++####+=@@#+-+###+@%=-=*=+#@@+=+###++@@+=+####%@*########@@####*###@@###=-=+*@@+======+#@#===-===+*@%+=--==++#@@+==--==+#@@+=--===+++++++"
	@echo "$(VIOLET)=*@@#+=======*@@===++===#@#===+++=+@@***###**%@#***++**@@@@@@@@#%%@@@@@%###*%@@@@##%###@@@@%*++*#%@@%######%@#*#####@@@+**#%%#*@@#**####+#@@@#***++*@@%#*+++++*@%++++++***@@++++++==+#@%+======+#@@*+=+++==+%@%***++++*##"
	@echo "							$(BLUE) _____ _____ _____ _____ _____ _____ _____ _____ _____ _____ _____ _____ _____ _____ " 
	@echo "							$(BLUE)|_____|_____|_____|_____|_____|_____|_____|_____|_____|_____|_____|_____|_____|_____|" 
	@echo "							$(BLUE)|  ___|_| |/ _|     | (_)_ __ | | __ | |_| |__   ___   _ __   ___ (_)_ __ | |_ ___   " 
	@echo "							$(BLUE)| |_ / _  | |_      | | | '_ \| |/ / | __| '_ \ / _ \ | '_ \ / _ \| | '_ \| __/ __|  " 
	@echo "							$(BLUE)|  _| (_| |  _|  _  | | | | | |   <  | |_| | | |  __/ | |_) | (_) | | | | | |_\__ \  " 
	@echo "							$(BLUE)|_|  \__,_|_|   ( ) |_|_|_| |_|_|\_\  \__|_| |_|\___| | .__/ \___/|_|_| |_|\__|___/  " 
	@echo "							$(BLUE) _____ _____ ___|/ _____ _____ _____ _____ _____ _____|_|___ _____ _____ _____ _____ " 
	@echo "							$(BLUE)|_____|_____|_____|_____|_____|_____|_____|_____|_____|_____|_____|_____|_____|_____|" 
	@echo "\n$(VIOLET)Compilation de $(NAME) terminée avec succès !$(RESET)"

# ================================
# === CLEAN MINILIBX SEULEMENT ===
# ================================
clean_mlx:
	@echo "$(RED)Suppression de la MLX...$(RESET)"
	@rm -rf $(MLX_DIR)
	@echo "$(GREEN)MLX supprimée avec succès !$(RESET)"

# ========================
# === CLEAN TARGETS ====
# ========================
clean:
	@if [ -d "$(OBJ_DIR)" ]; then \
		echo "$(RED)Suppression des fichiers objets...$(RESET)"; \
		rm -rf $(OBJ_DIR); \
		echo "$(RED)Suppression de la MLX...$(RESET)"; \
		rm -rf $(MLX_DIR); \
		echo "$(RED)Suppression de la LIBFT...$(RESET)"; \
		rm -rf $(LIBFT_DIR); \
		echo "$(GREEN)Nettoyage terminé !$(RESET)"; \
	else \
		echo "$(JAUNE)Aucun fichier objet à supprimer.$(RESET)"; \
	fi



# ========================
# === FCLEAN TARGETS ====
# ========================
fclean: clean
	@if [ -f "$(NAME)" ]; then \
		echo "$(RED)Suppression de $(NAME)...$(RESET)"; \
		rm -f $(NAME); \
		echo "$(GREEN)Suppression complète terminée !$(RESET)"; \
	else \
		echo "$(JAUNE)Aucun fichier à supprimer.\033[0m"; \
	fi

# ====================
# === REBUILD =======
# ====================
re: fclean all

# ==========================
# === PHONY RULES =========
# ==========================
.PHONY: all clean fclean re clean_mlx
